import React, { useEffect, useRef } from 'react';
import './PowerFlow.css'
import * as d3 from 'd3';

const PowerFlow = () => {
    const svgRef = useRef(null);

    useEffect(() => {
  
        // SVG 요소의 너비와 높이 설정
        const width = 700;
        const height = 380;
        const margin = { top: 20, right: 20, bottom: 20, left: 20 };
        
        const svg = d3.select(svgRef.current)
            .attr('width', width + margin.left + margin.right)
            .attr('height', height + margin.top + margin.bottom)
            .append('g')
            .attr('transform', `translate(${margin.left},${margin.top})`);
                 

            
        // 첫 번째 path에서 시작하여 마지막 path까지 이동하는 애니메이션
                 
        // 시작 점을 나타내는 원
        const circle01 = svg.append("circle")
        .attr("cx", 6) // 시작 x 좌표
        .attr("cy", 80) // 시작 y 좌표
        .attr("r", 4) // 원의 반지름
        .style("fill", "red"); // 색상

       // 첫 번째 path에서 시작하여 두 번째 path까지 이동하는 애니메이션
        const transitionPath01 = () => {
                circle01.transition()
                .duration(2000) // 애니메이션 지속 시간 (5초)
                .ease(d3.easeLinear)
                .attr("cx", 6) // 끝 x 좌표
                .attr("cy", 100) // 끝 y 좌표
                .transition()
                .duration(0) // 지속 시간 없음
                .attr("cx", 6) // 시작 x 좌표
                .attr("cy", 100) // 시작 y 좌표
                .transition()
                .duration(6000) // 애니메이션 지속 시간 (5초)
                .ease(d3.easeLinear)
                .attr("cx", 206) // 끝 x 좌표
                .attr("cy", 100) // 끝 y 좌표
                .transition()
                .duration(0) // 지속 시간 없음
                .attr("cx", 206) // 시작 x 좌표
                .attr("cy", 100) // 시작 y 좌표
                .transition()
                .duration(2000) // 애니메이션 지속 시간 (5초)
                .ease(d3.easeLinear)
                .attr("cx", 206) // 끝 x 좌표
                .attr("cy", 70) // 끝 y 좌표
                .transition()
                .duration(0) // 지속 시간 없음
                .attr("cx", 206) // 시작 x 좌표
                .attr("cy", 70) // 시작 y 좌표
                .transition()
                .duration(1500) // 애니메이션 지속 시간 (5초)
                .ease(d3.easeLinear)
                .attr("cx", 236) // 끝 x 좌표
                .attr("cy", 70) // 끝 y 좌표
                .transition()
                .duration(0) // 지속 시간 없음
                .attr("cx", 275) // 시작 x 좌표
                .attr("cy", 70) // 시작 y 좌표
                .transition()
                .duration(4000) // 지속 시간 없음
                .attr("cx", 386) // 시작 x 좌표
                .attr("cy", 70) // 시작 y 좌표
                .transition()
                .duration(0) // 애니메이션 지속 시간 (5초)
                .ease(d3.easeLinear)
                .attr("cx", 6) // 끝 x 좌표 (시작점으로 되돌아감)
                .attr("cy", 80) // 끝 y 좌표 (시작점으로 되돌아감)
                .on("end", transitionPath01); // 애니메이션 끝나면 다시 시작
        };

        transitionPath01();
        
        /* const line01 = svg.append("line")
        .attr("x1", 6)
        .attr("y1", 80)
        .attr("x2", 206)
        .attr("y2", 100)
        .style("stroke", "black")
        .style("stroke-width", 2);
    
        const transitionPath03 = () => {
          const pathLength = line01.node().getTotalLength(); // 선의 총 길이 계산
      
          // 점선 효과를 주기 위해 stroke-dasharray 설정
          line01.attr("stroke-dasharray", `${pathLength} ${pathLength}`);
          line01.attr("stroke-dashoffset", pathLength); // 처음에는 점선이 보이지 않도록 설정
      
          line01.transition()
              .duration(2000) // 애니메이션 지속 시간
              .ease(d3.easeLinear)
              .attr("stroke-dashoffset", 0) // 점선을 이동하여 움직이는 것처럼 보이게 함
              .transition()
              .duration(6000) // 애니메이션 지속 시간
              .ease(d3.easeLinear)
              .attr("stroke-dashoffset", -pathLength) // 다시 처음으로 되돌아감
              .on("end", transitionPath01); // 애니메이션이 끝나면 다시 시작
      };
      transitionPath03(); */
        
        const circle02 = svg.append("circle")
        .attr("cx", 106) // 시작 x 좌표
        .attr("cy", 80) // 시작 y 좌표
        .attr("r", 4) // 원의 반지름
        .style("fill", "red"); // 색상

        const transitionPath02 = () => {
            circle02.transition()
            .duration(2000) // 애니메이션 지속 시간 (5초)
            .ease(d3.easeLinear)
            .attr("cx", 106) // 끝 x 좌표
            .attr("cy", 100) // 끝 y 좌표
            .transition()
            .duration(0) // 지속 시간 없음
            .attr("cx", 106) // 시작 x 좌표
            .attr("cy", 100) // 시작 y 좌표
            .transition()
            .duration(3000) // 애니메이션 지속 시간 (5초)
            .ease(d3.easeLinear)
            .attr("cx", 206) // 끝 x 좌표
            .attr("cy", 100) // 끝 y 좌표
            .transition()
            .duration(0) // 지속 시간 없음
            .attr("cx", 206) // 시작 x 좌표
            .attr("cy", 100) // 시작 y 좌표
            .transition()
            .duration(2000) // 애니메이션 지속 시간 (5초)
            .ease(d3.easeLinear)
            .attr("cx", 206) // 끝 x 좌표
            .attr("cy", 70) // 끝 y 좌표
            .transition()
            .duration(0) // 지속 시간 없음
            .attr("cx", 206) // 시작 x 좌표
            .attr("cy", 70) // 시작 y 좌표
            .transition()
            .duration(1500) // 애니메이션 지속 시간 (5초)
            .ease(d3.easeLinear)
            .attr("cx", 236) // 끝 x 좌표
            .attr("cy", 70) // 끝 y 좌표
            .transition()
            .duration(0) // 지속 시간 없음
            .attr("cx", 275) // 시작 x 좌표
            .attr("cy", 70) // 시작 y 좌표
            .transition()
            .duration(4000) // 지속 시간 없음
            .attr("cx", 386) // 시작 x 좌표
            .attr("cy", 70) // 시작 y 좌표
            .transition()
            .duration(0) // 애니메이션 지속 시간 (5초)
            .ease(d3.easeLinear)
            .attr("cx", 106) // 끝 x 좌표 (시작점으로 되돌아감)
            .attr("cy", 80) // 끝 y 좌표 (시작점으로 되돌아감)
            .on("end", transitionPath02); // 애니메이션 끝나면 다시 시작
        };

        transitionPath02();


    }, []);
  

    return (
        <div className="powerFlow">
            <svg height="380" viewBox="-50 10 800 380" width="800">
                <svg width="50" viewBox="0 1200 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M505.629,444.763l-17.847-263.486c-0.252-3.762-3.379-6.681-7.146-6.681H56.49c-3.771,0-6.898,2.919-7.15,6.681
                        L31.419,445.93c-0.136,1.979,0.553,3.925,1.911,5.377c1.354,1.451,3.255,2.277,5.238,2.277h226.61v33.612l-102.956,21.496
                        c-3.423,0.71-5.831,3.79-5.698,7.286c0.135,3.495,2.768,6.389,6.237,6.837l109.632,14.3c0.187,0.019,0.345,0.103,0.53,0.103
                        c0.109,0,0.235-0.019,0.345-0.023c0.11,0.005,0.234,0.023,0.344,0.023c0.187,0,0.345-0.084,0.532-0.103l109.632-14.3
                        c3.472-0.448,6.1-3.337,6.235-6.837c0.13-3.496-2.278-6.576-5.694-7.286l-104.804-21.879v-33.229h219.04
                        c0.037,0.005,0.07,0,0.094,0c3.962,0,7.168-3.211,7.168-7.169C505.815,445.846,505.75,445.295,505.629,444.763z M408.735,385.481
                        l-9.833-8.466l-1.083-26.621l9.871-9.119h76.554l2.992,44.206H408.735z M49.875,385.481l2.992-44.206h88.485l9.458,8.732
                        l-1.123,27.634l-9.101,7.84H49.875z M146.604,234.703l8.569,7.885l-1.22,29.965l-9.811,8.984H56.915l3.169-46.834H146.604z
                            M477.029,234.703l3.169,46.834H405.17l-10.533-9.651l-1.177-28.913l8.989-8.27H477.029z M406.747,334.106l-9.932-8.597
                        l-1.157-28.437l9.087-8.368h75.943l3.075,45.401H406.747z M286.197,385.481l-9.008-8.792v-26.267l10.608-9.147h94.438l8.363,7.738
                        l1.167,28.73l-7.93,7.737H286.197z M165.224,385.481l-8.354-8.152l1.118-27.648l9.085-8.405h94.641l8.3,8.032v28.894l-8.464,7.28
                        H165.224z M53.354,334.106l3.078-45.401h87.879l8.665,7.981l-1.195,29.453l-9.215,7.967H53.354z M260.906,234.703l9.112,7.927
                        v30.039l-9.682,8.863h-90.826l-8.394-8.723l1.239-30.443l8.802-7.664H260.906z M378.166,234.703l8.069,7.033l1.284,31.531
                        l-7.962,8.271h-93.855l-8.513-8.849v-30.423l8.064-7.563H378.166z M286.981,334.106l-9.792-8.765v-29.953l7.668-6.684h95.787
                        l7.775,6.772l1.265,31.092l-7.253,7.537H286.981z M166.633,334.106l-7.68-7.985l1.218-30.009l8.496-7.407H260.5l9.519,8.765v29.049
                        l-8.587,7.588H166.633z M385.321,219.145l-8.069,8.389h-91.629l-8.434-8.76v-29.841h106.904L385.321,219.145z M270.019,218.702
                        l-9.796,8.837h-88.404l-8.501-8.837l1.209-29.769h105.492V218.702z M155.899,401.2l9.21-8.55h95.848l9.062,8.887v37.71H154.356
                        L155.899,401.2z M277.189,439.247v-38.336l8.886-8.261h98.126l8.484,7.878l1.573,38.719H277.189z M476.548,227.534h-73.86
                        l-10.235-9.374l-1.186-29.228h82.668L476.548,227.534z M157.353,188.933l-1.215,29.893l-9.509,8.709H60.571l2.614-38.602H157.353z
                            M49.392,392.65h90.597l8.737,8.573l-1.545,38.023H46.239L49.392,392.65z M265.174,501.842v19.877l-58.593-7.64L265.174,501.842z
                            M279.514,521.966v-20.507l60.434,12.624L279.514,521.966z M401.437,439.247l-1.531-37.607l9.166-8.989h78.654l3.155,46.597
                        H401.437z M280.34,30.147c-26.47,0-48.003,21.534-48.003,48.001c0,26.467,21.534,47.996,48.003,47.996
                        c26.462,0,47.996-21.534,47.996-48.001C328.336,51.676,306.802,30.147,280.34,30.147z M280.34,117.15
                        c-21.513,0-39-17.497-39-39.002s17.487-39.003,39-39.003c21.496,0,38.998,17.497,38.998,39.003S301.836,117.15,280.34,117.15z
                            M206.294,54.735c-0.028-0.296,0.01-0.593,0.101-0.889c0.378-1.181,1.659-1.83,2.835-1.449l12.3,3.995
                        c1.181,0.388,1.832,1.659,1.444,2.84c-0.306,0.952-1.185,1.554-2.133,1.554c0,0,0,0-0.009,0l0,0c-0.229,0-0.469-0.035-0.698-0.105
                        l-12.295-3.995C206.955,56.399,206.376,55.61,206.294,54.735z M234.028,18.085c-0.733-1.003-0.511-2.413,0.497-3.141l0,0l0,0
                        c1.003-0.73,2.417-0.511,3.143,0.497l7.605,10.461c0.73,1.008,0.506,2.413-0.497,3.146c-0.396,0.292-0.866,0.429-1.321,0.429
                        c-0.693,0-1.375-0.32-1.815-0.926l0,0l-0.009-0.005L234.028,18.085z M315.604,28.833c-1.004-0.732-1.223-2.137-0.5-3.146
                        l7.594-10.461c0.732-1.013,2.146-1.227,3.15-0.497c0.998,0.726,1.218,2.133,0.494,3.141l-7.593,10.461
                        c-0.443,0.606-1.125,0.926-1.825,0.926C316.463,29.263,316.006,29.125,315.604,28.833z M337.586,58.894
                        c-0.388-1.181,0.262-2.452,1.442-2.835l12.293-4.004c1.19-0.387,2.455,0.269,2.842,1.449c0.379,1.178-0.266,2.45-1.451,2.833
                        l-12.298,4.004c-0.229,0.077-0.467,0.11-0.695,0.11C338.771,60.45,337.894,59.844,337.586,58.894z M354.275,101.514
                        c-0.308,0.95-1.194,1.556-2.142,1.556c-0.229,0-0.467-0.037-0.695-0.109l-12.298-3.995c-1.186-0.383-1.83-1.652-1.452-2.833
                        c0.388-1.181,1.671-1.836,2.843-1.449l12.293,3.995C354.015,99.061,354.653,100.333,354.275,101.514z M326.642,137.284
                        c0.729,0.999,0.509,2.413-0.494,3.139c-0.397,0.294-0.868,0.432-1.321,0.432c-0.695,0-1.377-0.319-1.82-0.926l-7.603-10.459
                        c-0.728-1.003-0.509-2.413,0.495-3.139c0.998-0.721,2.417-0.511,3.146,0.497L326.642,137.284z M278.263,153.113v-12.928
                        c0-1.246,1.004-2.25,2.254-2.25c0.304,0,0.607,0.061,0.883,0.175c0.807,0.341,1.372,1.139,1.372,2.075v12.928
                        c0,1.246-1.004,2.252-2.255,2.252C279.271,155.365,278.263,154.359,278.263,153.113z M233.918,139.167
                        c-0.044-0.287-0.04-0.579,0.038-0.866c0.063-0.287,0.182-0.562,0.369-0.812l7.593-10.461c0.735-1.013,2.14-1.228,3.146-0.497
                        c0.497,0.364,0.808,0.898,0.898,1.478c0.089,0.564-0.035,1.171-0.401,1.673l-7.601,10.461c-0.438,0.606-1.122,0.921-1.82,0.921
                        c-0.464,0-0.917-0.133-1.323-0.424C234.315,140.271,234.01,139.737,233.918,139.167z M223.093,96.466
                        c0.378,1.185-0.268,2.457-1.454,2.84l0,0v0.004l-12.295,3.995c-0.231,0.075-0.469,0.105-0.693,0.105
                        c-0.952,0-1.841-0.602-2.147-1.549c-0.1-0.301-0.119-0.598-0.1-0.894c0.072-0.873,0.661-1.661,1.549-1.948l12.295-3.998
                        C221.439,94.641,222.71,95.29,223.093,96.466z M277.898,15.184V2.252c0-1.244,1.004-2.252,2.255-2.252l0,0l0,0
                        c1.25,0,2.249,1.008,2.249,2.252v12.941c0,1.242-0.999,2.25-2.249,2.25c-1.237,0-2.255-1.008-2.255-2.25V15.184z" fill="rgb(128,255,255)"/>
                </svg>
                <path d="M26 100 L26 120" stroke="rgb(56,70,74)" strokeWidth="2" />

                <svg width="50" viewBox="0 1200 512 512" xmlns="http://www.w3.org/2000/svg" x="100">
                    <path d="M505.629,444.763l-17.847-263.486c-0.252-3.762-3.379-6.681-7.146-6.681H56.49c-3.771,0-6.898,2.919-7.15,6.681
                        L31.419,445.93c-0.136,1.979,0.553,3.925,1.911,5.377c1.354,1.451,3.255,2.277,5.238,2.277h226.61v33.612l-102.956,21.496
                        c-3.423,0.71-5.831,3.79-5.698,7.286c0.135,3.495,2.768,6.389,6.237,6.837l109.632,14.3c0.187,0.019,0.345,0.103,0.53,0.103
                        c0.109,0,0.235-0.019,0.345-0.023c0.11,0.005,0.234,0.023,0.344,0.023c0.187,0,0.345-0.084,0.532-0.103l109.632-14.3
                        c3.472-0.448,6.1-3.337,6.235-6.837c0.13-3.496-2.278-6.576-5.694-7.286l-104.804-21.879v-33.229h219.04
                        c0.037,0.005,0.07,0,0.094,0c3.962,0,7.168-3.211,7.168-7.169C505.815,445.846,505.75,445.295,505.629,444.763z M408.735,385.481
                        l-9.833-8.466l-1.083-26.621l9.871-9.119h76.554l2.992,44.206H408.735z M49.875,385.481l2.992-44.206h88.485l9.458,8.732
                        l-1.123,27.634l-9.101,7.84H49.875z M146.604,234.703l8.569,7.885l-1.22,29.965l-9.811,8.984H56.915l3.169-46.834H146.604z
                            M477.029,234.703l3.169,46.834H405.17l-10.533-9.651l-1.177-28.913l8.989-8.27H477.029z M406.747,334.106l-9.932-8.597
                        l-1.157-28.437l9.087-8.368h75.943l3.075,45.401H406.747z M286.197,385.481l-9.008-8.792v-26.267l10.608-9.147h94.438l8.363,7.738
                        l1.167,28.73l-7.93,7.737H286.197z M165.224,385.481l-8.354-8.152l1.118-27.648l9.085-8.405h94.641l8.3,8.032v28.894l-8.464,7.28
                        H165.224z M53.354,334.106l3.078-45.401h87.879l8.665,7.981l-1.195,29.453l-9.215,7.967H53.354z M260.906,234.703l9.112,7.927
                        v30.039l-9.682,8.863h-90.826l-8.394-8.723l1.239-30.443l8.802-7.664H260.906z M378.166,234.703l8.069,7.033l1.284,31.531
                        l-7.962,8.271h-93.855l-8.513-8.849v-30.423l8.064-7.563H378.166z M286.981,334.106l-9.792-8.765v-29.953l7.668-6.684h95.787
                        l7.775,6.772l1.265,31.092l-7.253,7.537H286.981z M166.633,334.106l-7.68-7.985l1.218-30.009l8.496-7.407H260.5l9.519,8.765v29.049
                        l-8.587,7.588H166.633z M385.321,219.145l-8.069,8.389h-91.629l-8.434-8.76v-29.841h106.904L385.321,219.145z M270.019,218.702
                        l-9.796,8.837h-88.404l-8.501-8.837l1.209-29.769h105.492V218.702z M155.899,401.2l9.21-8.55h95.848l9.062,8.887v37.71H154.356
                        L155.899,401.2z M277.189,439.247v-38.336l8.886-8.261h98.126l8.484,7.878l1.573,38.719H277.189z M476.548,227.534h-73.86
                        l-10.235-9.374l-1.186-29.228h82.668L476.548,227.534z M157.353,188.933l-1.215,29.893l-9.509,8.709H60.571l2.614-38.602H157.353z
                            M49.392,392.65h90.597l8.737,8.573l-1.545,38.023H46.239L49.392,392.65z M265.174,501.842v19.877l-58.593-7.64L265.174,501.842z
                            M279.514,521.966v-20.507l60.434,12.624L279.514,521.966z M401.437,439.247l-1.531-37.607l9.166-8.989h78.654l3.155,46.597
                        H401.437z M280.34,30.147c-26.47,0-48.003,21.534-48.003,48.001c0,26.467,21.534,47.996,48.003,47.996
                        c26.462,0,47.996-21.534,47.996-48.001C328.336,51.676,306.802,30.147,280.34,30.147z M280.34,117.15
                        c-21.513,0-39-17.497-39-39.002s17.487-39.003,39-39.003c21.496,0,38.998,17.497,38.998,39.003S301.836,117.15,280.34,117.15z
                            M206.294,54.735c-0.028-0.296,0.01-0.593,0.101-0.889c0.378-1.181,1.659-1.83,2.835-1.449l12.3,3.995
                        c1.181,0.388,1.832,1.659,1.444,2.84c-0.306,0.952-1.185,1.554-2.133,1.554c0,0,0,0-0.009,0l0,0c-0.229,0-0.469-0.035-0.698-0.105
                        l-12.295-3.995C206.955,56.399,206.376,55.61,206.294,54.735z M234.028,18.085c-0.733-1.003-0.511-2.413,0.497-3.141l0,0l0,0
                        c1.003-0.73,2.417-0.511,3.143,0.497l7.605,10.461c0.73,1.008,0.506,2.413-0.497,3.146c-0.396,0.292-0.866,0.429-1.321,0.429
                        c-0.693,0-1.375-0.32-1.815-0.926l0,0l-0.009-0.005L234.028,18.085z M315.604,28.833c-1.004-0.732-1.223-2.137-0.5-3.146
                        l7.594-10.461c0.732-1.013,2.146-1.227,3.15-0.497c0.998,0.726,1.218,2.133,0.494,3.141l-7.593,10.461
                        c-0.443,0.606-1.125,0.926-1.825,0.926C316.463,29.263,316.006,29.125,315.604,28.833z M337.586,58.894
                        c-0.388-1.181,0.262-2.452,1.442-2.835l12.293-4.004c1.19-0.387,2.455,0.269,2.842,1.449c0.379,1.178-0.266,2.45-1.451,2.833
                        l-12.298,4.004c-0.229,0.077-0.467,0.11-0.695,0.11C338.771,60.45,337.894,59.844,337.586,58.894z M354.275,101.514
                        c-0.308,0.95-1.194,1.556-2.142,1.556c-0.229,0-0.467-0.037-0.695-0.109l-12.298-3.995c-1.186-0.383-1.83-1.652-1.452-2.833
                        c0.388-1.181,1.671-1.836,2.843-1.449l12.293,3.995C354.015,99.061,354.653,100.333,354.275,101.514z M326.642,137.284
                        c0.729,0.999,0.509,2.413-0.494,3.139c-0.397,0.294-0.868,0.432-1.321,0.432c-0.695,0-1.377-0.319-1.82-0.926l-7.603-10.459
                        c-0.728-1.003-0.509-2.413,0.495-3.139c0.998-0.721,2.417-0.511,3.146,0.497L326.642,137.284z M278.263,153.113v-12.928
                        c0-1.246,1.004-2.25,2.254-2.25c0.304,0,0.607,0.061,0.883,0.175c0.807,0.341,1.372,1.139,1.372,2.075v12.928
                        c0,1.246-1.004,2.252-2.255,2.252C279.271,155.365,278.263,154.359,278.263,153.113z M233.918,139.167
                        c-0.044-0.287-0.04-0.579,0.038-0.866c0.063-0.287,0.182-0.562,0.369-0.812l7.593-10.461c0.735-1.013,2.14-1.228,3.146-0.497
                        c0.497,0.364,0.808,0.898,0.898,1.478c0.089,0.564-0.035,1.171-0.401,1.673l-7.601,10.461c-0.438,0.606-1.122,0.921-1.82,0.921
                        c-0.464,0-0.917-0.133-1.323-0.424C234.315,140.271,234.01,139.737,233.918,139.167z M223.093,96.466
                        c0.378,1.185-0.268,2.457-1.454,2.84l0,0v0.004l-12.295,3.995c-0.231,0.075-0.469,0.105-0.693,0.105
                        c-0.952,0-1.841-0.602-2.147-1.549c-0.1-0.301-0.119-0.598-0.1-0.894c0.072-0.873,0.661-1.661,1.549-1.948l12.295-3.998
                        C221.439,94.641,222.71,95.29,223.093,96.466z M277.898,15.184V2.252c0-1.244,1.004-2.252,2.255-2.252l0,0l0,0
                        c1.25,0,2.249,1.008,2.249,2.252v12.941c0,1.242-0.999,2.25-2.249,2.25c-1.237,0-2.255-1.008-2.255-2.25V15.184z" fill="rgb(128,255,255)"/>
                </svg>
                
                <path d="M126 100 L126 120" stroke="rgb(56,70,74)" strokeWidth="2" />
                <path d="M26 120 L226 120" stroke="rgb(56,70,74)" strokeWidth="2" />
                <path d="M226 120 L226 90" stroke="rgb(56,70,74)" strokeWidth="2" />
                <path d="M226 90 L256 90" stroke="rgb(56,70,74)" strokeWidth="2" />
                <svg height="120" viewBox="0 0 100 100" width="90" x="252" y="50">
                    <path d="M 5 2 C 3.3545455 2 2 3.3545455 2 5 L 2 45 C 2 45.672701 2.2136392 46.30972 2.59375 46.8125 A 1.0001 1.0001 0 0 0 3.1875 47.40625 C 3.6902797 47.786361 4.3272995 48 5 48 L 45 48 C 46.645455 48 48 46.645455 48 45 L 48 5 C 48 4.2486564 47.713581 3.5600216 47.25 3.03125 A 1.0001 1.0001 0 0 0 47.21875 3 C 47.203577 2.9831901 47.203041 2.9539662 47.1875 2.9375 A 1.0001 1.0001 0 0 0 47.125 2.875 C 47.098585 2.8485846 47.058619 2.8379314 47.03125 2.8125 A 1.0001 1.0001 0 0 0 46.875 2.6875 C 46.358304 2.2670545 45.711417 2 45 2 L 5 2 z M 5 4 L 44.59375 4 L 4 44.59375 L 4 5 C 4 4.4454545 4.4454545 4 5 4 z M 46 5.40625 L 46 45 C 46 45.554545 45.554545 46 45 46 L 5.40625 46 L 46 5.40625 z M 12.96875 11.03125 C 12.762288 11.02658 12.570986 11.045746 12.375 11.0625 C 11.85237 11.10718 11.370153 11.205701 10.9375 11.375 C 9.2068875 12.052196 8.21875 13.375 8.21875 13.375 L 9.78125 14.625 C 9.78125 14.625 10.543112 13.697804 11.6875 13.25 C 12.831888 12.802196 14.240763 12.678263 16.28125 14.71875 C 18.740763 17.178263 21.331888 17.302196 23.0625 16.625 C 24.793112 15.947804 25.78125 14.625 25.78125 14.625 L 24.21875 13.375 C 24.21875 13.375 23.456888 14.302196 22.3125 14.75 C 21.168112 15.197804 19.759237 15.321737 17.71875 13.28125 C 16.104694 11.667194 14.413981 11.063942 12.96875 11.03125 z M 26 33 L 26 35 L 42 35 L 42 33 L 26 33 z M 26 37 L 26 39 L 32 39 L 32 37 L 26 37 z M 36 37 L 36 39 L 42 39 L 42 37 L 36 37 z" fill="#374549" overflow="visible"></path>
                </svg>
                <path d="M295 90 L406 90" stroke="rgb(56,70,74)" strokeWidth="2" />

                <svg height="68" viewBox="0 0 170.079 108.233" width="68" x="400" y="55">
                    <path d="M115.964,0C104.457,0,93.81,3.618,85.04,9.74C76.271,3.618,65.624,0,54.117,0C24.228,0,0,24.228,0,54.116
                                c0,29.887,24.228,54.117,54.117,54.117c11.507,0,22.154-3.62,30.923-9.743c8.771,6.123,19.417,9.743,30.925,9.743
                                c29.887,0,54.114-24.229,54.114-54.117C170.079,24.228,145.851,0,115.964,0z" fill="#FFFFFF"></path>
                    <g>
                        <path d="M166.007,33.498c-0.883-2.14-1.896-4.214-3.033-6.204l-57.445,43.742L85.04,86.638l-8.006,5.054
                                    l-26.059,16.447c1.039,0.059,2.088,0.094,3.143,0.094c3.343,0,6.613-0.305,9.788-0.891L79.017,93.65l6.023-5.46l18.804-12.7
                                    L166.007,33.498z" fill="#ED1C24"></path>
                        <path d="M166.965,35.994L85.574,98.889c8.664,5.895,19.123,9.344,30.391,9.344
                                    c29.887,0,54.114-24.229,54.114-54.117C170.079,47.759,168.98,41.659,166.965,35.994z" fill="#ED1C24"></path>
                        <path d="M54.117,0C24.229,0,0,24.229,0,54.116c0,6.359,1.103,12.461,3.117,18.128L84.495,9.331
                                    C75.834,3.443,65.378,0,54.117,0z" fill="#ED1C24"></path>
                        <path d="M85.04,43.769l18.335-12.084l38.261-25.217c-2.245-1.215-4.588-2.273-7.009-3.163l-32.617,25.604
                                    L85.04,42.236L61.966,57.697L13.67,90.062c1.528,1.718,3.167,3.343,4.901,4.854l43.748-33.662L85.04,43.769z" fill="#ED1C24"></path>
                        <path d="M85.04,54.883l21.485-14.296l43.21-28.755c-1.864-1.488-3.822-2.856-5.874-4.094l-38.264,29.659
                                    L85.04,53.331L63.554,67.635L20.35,96.402c1.862,1.489,3.823,2.855,5.875,4.093l38.257-29.669L85.04,54.883z" fill="#ED1C24"></path>
                        <path d="M85.04,65.977l23.074-15.453l48.3-32.353c-1.53-1.719-3.165-3.342-4.899-4.854l-43.756,33.642
                                    L85.04,64.429L66.697,76.528l-38.255,25.231c2.248,1.217,4.591,2.278,7.014,3.165l32.61-25.611L85.04,65.977z" fill="#ED1C24"></path>
                        <path d="M85.04,32.671l13.827-8.98L131.742,2.34c-2.768-0.842-5.629-1.469-8.563-1.86L97.187,21.362L85.04,31.121
                                    L62.405,46.364L8.247,82.834c1.214,1.932,2.544,3.785,3.984,5.546l49.751-38.067L85.04,32.671z" fill="#ED1C24"></path>
                        <path d="M85.04,21.559l7.991-5.036l26.051-16.432C118.051,0.033,117.009,0,115.964,0
                                    c-3.324,0-6.574,0.301-9.732,0.876L91.064,14.583l-6.024,5.442L66.246,32.726L4.073,74.736c0.884,2.143,1.899,4.213,3.038,6.204
                                    l57.453-43.777L85.04,21.559z" fill="#ED1C24"></path>
                        <path d="M85.04,77.091l22.636-15.234l54.162-36.454c-1.216-1.934-2.543-3.786-3.983-5.546l-49.758,38.05
                                    L85.04,75.542l-13.833,8.989l-32.871,21.357c2.765,0.844,5.627,1.471,8.56,1.859l25.99-20.886L85.04,77.091z" fill="#ED1C24"></path>
                    </g>
                </svg>
                <svg ref={svgRef}></svg>
            </svg>
        </div>
    );
};

export default PowerFlow;


/* const svgRef = useRef(null);

useEffect(() => {
  // 데이터
  const data = [
    { name: '태양광 모듈', value: 1000 },
    { name: '인버터', value: 950 },
    { name: '전력망', value: 900 },
  ];

  // SVG 요소의 너비와 높이 설정
  const width = 600;
  const height = 400;
  const margin = { top: 20, right: 20, bottom: 20, left: 20 };
  
  // 이미지 요소 생성
  const img = d3.select(svgRef.current)
  .append('img')
  .attr('src','/images/solar_panel.png')
  .attr('width', width)
  .attr('height', height);


  // SVG 요소 생성
  const svg = d3.select(svgRef.current)
    .attr('width', width + margin.left + margin.right)
    .attr('height', height + margin.top + margin.bottom)
    .append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  // 데이터에 따라 링크 생성 (태양광 모듈 -> 인버터)
  svg.append('line')
    .attr('x1', width / 4)
    .attr('y1', height / 2)
    .attr('x2', width * 3 / 4)
    .attr('y2', height / 2)
    .attr('stroke', 'black');

  // 데이터에 따라 링크 생성 (인버터 -> 전력망)
  svg.append('line')
    .attr('x1', width * 3 / 4)
    .attr('y1', height / 2)
    .attr('x2', width * 5 / 6)
    .attr('y2', height / 2)
    .attr('stroke', 'black');

  // 데이터에 따라 노드 생성 (태양광 모듈)
  svg.append('circle')
    .attr('id', 'dot')
    .attr('cx', width / 4)
    .attr('cy', height / 2)
    .attr('r', 10)
    .attr('fill', 'blue');

  // 애니메이션 시작
  moveDot();

  function moveDot() {
    const circle = svg.select('#dot');
    const startX = width / 4;
    const endX = width * 3 / 4;
    const duration = 5000;

    // 파란색 점을 오른쪽으로 이동하는 애니메이션
    circle.transition()
      .attr('cx', endX)
      .duration(duration)
      .ease(d3.easeLinear)
      .on('end', () => {
        // 애니메이션이 끝나면 다시 초기 위치로 이동하고 재귀적으로 호출
        circle.attr('cx', startX);
        moveDot();
      });
  }

  // 데이터에 따라 노드 생성 (인버터)
  svg.append('circle')
    .attr('cx', width * 3 / 4)
    .attr('cy', height / 2)
    .attr('r', 10)
    .attr('fill', 'blue');

  // 데이터에 따라 노드 생성 (전력망)
  svg.append('circle')
    .attr('cx', width * 5 / 6)
    .attr('cy', height / 2)
    .attr('r', 10)
    .attr('fill', 'blue');

  // 데이터에 따라 텍스트 생성
  svg.selectAll('text')
    .data(data)
    .enter()
    .append('text')
    .attr('x', (d, i) => {
      if (i === 0) return width / 4 + 20;
      else if (i === 1) return width * 3 / 4 + 20;
      else return width * 5 / 6 + 20;
    })
    .attr('y', height / 2 + 5)
    .text(d => `${d.name} (${d.value} kW)`)
    .attr('alignment-baseline', 'middle');
}, []); */